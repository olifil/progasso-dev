<?php

namespace TerritoryBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * TerritoryCommune
 *
 * @ORM\Table(name="territory_commune")
 * @ORM\Entity(repositoryClass="TerritoryBundle\Repository\TerritoryCommuneRepository")
 * @ORM\HasLifecycleCallbacks
 */
class TerritoryCommune
{
    /**
     * @var int
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var \TerritoryBundle\Entity\Commune
     *
     * @ORM\ManyToOne(targetEntity="TerritoryBundle\Entity\Commune", inversedBy="territoires")
     * @ORM\JoinColumns({
     *   @ORM\JoinColumn(name="codeCommune", referencedColumnName="codeCommune")
     * })
     */
    private $commune;

    /**
     * @ORM\ManyToOne(targetEntity="TerritoryBundle\Entity\Territoire", inversedBy="communes")
     */
    private $territoire;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="createdAt", type="datetime")
     */
    private $createdAt;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="updatedAt", type="datetime")
     */
    private $updatedAt;

    /**
     * @var bool
     *
     * @ORM\Column(name="isActive", type="boolean")
     */
    private $isActive;


    public function __construct()
    {
        $this -> createdAt = new \DateTime();
    }

    /**
     * @ORM\PrePersist()
     * @ORM\PreUpdate()
     */
    public function preUpdate()
    {
        $this -> updatedAt = new \DateTime();
    }
}
